<?php

/**
 * TipoPreguntaAlternativaTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class TipoPreguntaAlternativaTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object TipoPreguntaAlternativaTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('TipoPreguntaAlternativa');
    }
    
    public function getTipoPreguntaAlternativaDeCuestionId($cuestion_id)
    {
        return Doctrine_Core::getTable('TipoPreguntaAlternativa')->createQuery('j')->where('cuestion_id = ?', $cuestion_id)->fetchOne();
    }
    
    public function getArrayRespuestasDeCuestion($cuestion_id)
    {
        $respuestas = array();
        $tipoAlternativa = Doctrine_Core::getTable('TipoPreguntaAlternativa')->createQuery('j')->where('cuestion_id = ?', $cuestion_id)->fetchOne();
        $tablaRespuestas = Doctrine_Core::getTable('RespuestaTipoPreguntaAlternativa')->createQuery('j2')->where('tipopreguntaalternativa_id = ?', $tipoAlternativa->getId())->execute();
        foreach ($tablaRespuestas as $respuesta){
            $respuestas[$respuesta['id']] = $respuesta['texto'];
        }
        return $respuestas;
    }
}
